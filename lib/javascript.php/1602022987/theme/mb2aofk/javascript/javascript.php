/**
 *
 * @package   theme_mb2aofk
 * @copyright 2019 - 2020 Mariusz Boloz (https://mb2themes.com)
 * @license   Commercial https://themeforest.net/licenses
 *
 */
jQuery(document).ready(function(e){function t(){var t=e(".panel-link");t.length&&(e(window).scrollTop()>t.offset().top+t.outerHeight(!0)?e("body").addClass("panellinkpass"):e("body").removeClass("panellinkpass"))}e(".mb2slides-mainslider").each(function(){var t=e(this),a=e(this).find(".mb2slides-slide-list"),s=(a.find(".mb2slides-slide-item").find(".mb2slides-caption"),a.find(">li"),a.find(".mb2slides-nextslide")),i=a.find(".mb2slides-prevslide"),o=a.data("slidescount"),n=a.data("modid"),l=a.data("mode"),r=1==a.data("auto"),d=a.data("aspeed"),m=a.data("items"),c=a.data("margin"),h=a.data("moveitems")>m?m:a.data("moveitems"),u=a.data("apause"),f=1==a.data("kpress"),b=1==a.data("loop"),p=1==a.data("aheight"),g=1==a.data("pager"),v=1==a.data("control")||2==a.data("control"),k=!!e("body").hasClass("dir-rtl"),C=k?"fa fa-angle-right":"fa fa-angle-left",y=k?"fa fa-angle-left":"fa fa-angle-right",w=m>1?[{breakpoint:768,settings:{item:m>2?2:m,slideMove:1}},{breakpoint:480,settings:{item:1,slideMove:1}}]:[];function x(){var t=e(".mb2slides"+n+" .lslide.active"),a=t.find(".mb2slides-caption");t.hasClass("active")?a.hasClass("anim1")&&a.stop().animate({top:0,bottom:0,opacity:1},350):a.stop().animate({top:15,bottom:-15,opacity:0},0)}function T(t){e(window).width()<=768?(t.addClass("mb2slides-mobile"),t.removeClass("mb2slides-desktop")):(t.removeClass("mb2slides-mobile"),t.addClass("mb2slides-desktop"))}o>1&&(a.lightSliderMb2({slidesVisible:!1,item:m,autoWidth:!1,slideMove:h,slideMargin:c,addClass:"",mode:l,useCSS:!0,cssEasing:"ease",easing:"linear",speed:d,auto:r,loop:b,slideEndAnimation:!0,pause:u,keyPress:f,controls:v,prevHtml:'<span class="'+C+'"></span>',nextHtml:'<span class="'+y+'"></span>',rtl:k,adaptiveHeight:p,vertical:!1,verticalHeight:500,vThumbWidth:100,pauseOnHover:!0,thumbItem:10,pager:g,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:w,onBeforeStart:function(e){},onSliderLoad:function(e){x()},onAfterSlide:function(e){x()},onBeforeSlide:function(t){var a;(a=e(".mb2slides"+n+" .mb2slides-caption")).hasClass("anim1")&&a.stop().animate({top:15,bottom:-15,opacity:0},150)},onBeforeNextSlide:function(e){},onBeforePrevSlide:function(e){},onAfterReset:function(e){x()}}),s.click(function(e){e.preventDefault(),a.goToNextSlide()}),i.click(function(e){e.preventDefault(),a.goToPrevSlide()})),T(t),e(window).on("resize",function(){T(t)})}),e(".mb2notices-item.canclose").each(function(){var t=e(this),a="mb2notices-item-"+t.data("itemid"),s=t.data("cookieexpiry"),i={expires:s,path:"/"},o=t.find(".mb2notices-item-close");"hide"!==Cookies.get(a)&&t.show(),o.click(function(e){e.preventDefault(),t.slideUp(250),Cookies.set(a,"hide",i)})}),e(".categorypicker").length>0&&e(".course-layout-switcher").length>0&&e(".categorypicker").append(e(".course-layout-switcher")),e("#frontpage-available-course-list").length>0&&e(".course-layout-switcher").length>0&&e("#frontpage-available-course-list").prepend(e(".course-layout-switcher")),e("#frontpage-course-list").length>0&&e(".course-layout-switcher").length>0&&e("#frontpage-course-list").prepend(e(".course-layout-switcher")),function(){var t="courses_layout",a=e(".course-layout-switcher"),s=a.find(">a"),i={expires:3,path:"/"};if(!e(".course-layout-switcher").length)return;"grid"===Cookies.get(t)?(e("body").addClass("course-layout-grid"),s.removeClass("active"),a.find(".grid-layout").addClass("active")):"list"===Cookies.get(t)&&(e("body").removeClass("course-layout-grid"),s.removeClass("active"),a.find(".list-layout").addClass("active"));s.click(function(a){a.preventDefault(),e(this).hasClass("grid-layout")&&!e("body").hasClass("course-layout-grid")?(e("body").addClass("course-layout-grid"),s.removeClass("active"),e(this).addClass("active"),Cookies.remove(t),Cookies.set(t,"grid",i)):e(this).hasClass("list-layout")&&e("body").hasClass("course-layout-grid")&&(e("body").removeClass("course-layout-grid"),s.removeClass("active"),e(this).addClass("active"),Cookies.remove(t),Cookies.set(t,"list",i))})}(),e("body").hasClass("pagelayout-login")&&e("#login").append(e(".potentialidps")),e(".potentialidp a").each(function(){var t=e(this).attr("title");e(this).attr("class",""),e(this).addClass("btn btn-"+t.toLowerCase())}),t(),e(window).scroll(function(){t()});var a="layout_sidebars",s={expires:3,path:"/"},o=e(".theme-hide-sidebar"),n=o.data("showtext"),l=o.data("hidetext");"hidden"!==Cookies.get(a)||e("body").hasClass("editing")?"shown"===Cookies.get(a)&&(e("body").removeClass("hide-sidebars"),o.text(l)):(e("body").addClass("hide-sidebars"),o.text(n)),o.click(function(t){e("body").hasClass("editing")||(e("body").hasClass("hide-sidebars")?(e("body").removeClass("hide-sidebars"),e(this).text(l),Cookies.remove(a),Cookies.set(a,"shown",s)):(e("body").addClass("hide-sidebars"),e(this).text(n),Cookies.remove(a),Cookies.set(a,"hidden",s))),t.preventDefault()}),e(".theme-slider,.mb2-pb-content-list.owl-carousel").each(function(){slider=e(this),function(t){isItems=t.data("items"),isMargin=t.data("margin"),isLoop=0!=t.data("loop"),isNav=0!=t.data("nav"),isDots=0!=t.data("dots"),isAutoplay=0!=t.data("autoplay"),isPauseTime=t.data("pausetime"),isAnimTime=t.data("animtime");var a=isItems>2?2:isItems,s=isItems>3?3:isItems,i=isItems>5?5:isItems;isRes={0:{items:1},600:{items:a},780:{items:s},1000:{items:i}};var o=e("body").hasClass("dir-rtl"),n=!1,l=['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'];o&&(n=!0,l=['<i class="fa fa-angle-right"></i>','<i class="fa fa-angle-left"></i>']);(function e(){if("function"!=typeof t.owlCarousel)return setTimeout(e(),100),!1;return!0})()&&t.owlCarousel({items:isItems,margin:isMargin,loop:isLoop,nav:isNav,rtl:n,dots:isDots,autoplay:isAutoplay,responsive:isRes,autoplayHoverPause:!0,autoplayTimeout:isPauseTime,smartSpeed:isAnimTime,navText:l})}(slider)});var r=e(".theme-scrolltt"),d=r.data("scrollspeed");function m(){e(".theme-table-wrap").each(function(){e(this).find(">table").width()>e(this).width()?e(this).addClass("wider"):e(this).removeClass("wider")})}r.click(function(t){t.preventDefault(),e("html, body").stop().animate({scrollTop:0},d)}),e("body").hasClass("path-admin-setting")&&e(".mb2tmpl-acc-title").each(function(){e(this).click(function(t){e(this).toggleClass("active"),e(this).parent().find("> div").slideToggle(150)})}),e("table").wrap('<div class="theme-table-wrap"></div>'),e(".generaltable, .forumheaderlist, table.userenrolment").addClass("table table-striped"),e("table.collection").addClass("table table-bordered"),e("table.preference-table").addClass("table table-bordered"),e("table.rolecap").addClass("table table-bordered"),e("#categoryquestions").addClass("table table-striped"),m(),e(window).on("resize",function(){m()}),e(".embed-video-bg").each(function(){var t=e(this),a=t.parent().find(">i"),s=t.parent().find(".icon-bg");a.on("click",function(a){t.parent().find("iframe").attr("src",t.data("videourl")),e(this).fadeOut(350),t.fadeOut(350),s.fadeOut(350),a.preventDefault()})}),e(".alert-error").addClass("alert-danger"),e(".box.notifyproblem").addClass("alert"),e(".box.notifyproblem").addClass("alert-danger"),e(".box.notifyproblem").removeClass("notifyproblem"),e(".nav-tabs .nav-link").each(function(){e(this).hasClass("active")&&e(this).parent().addClass("active")}),e(".block-region").each(function(){var t='<span class="region-name">'+e(this).data("blockregion")+"</span>";e("body").hasClass("editing")&&e(this).append(t)}),e("#main-navigation .theme-ddmenu").each(function(){var t=e(this),a=t.data("animtype"),s=t.data("animspeed");(function e(){return"function"==typeof t.superfish||(setTimeout(e(),100),!1)})()&&t.superfish({popUpSelector:"ul",hoverClass:"mb2ctm-hover",animation:2==a?{height:"show"}:{opacity:"show"},speed:s,speedOut:"fast",cssArrows:!1})}),e(".mobile-nav .theme-ddmenu").each(function(){e(this).find(".mobile-arrow").click(function(t){t.preventDefault(),e(this).parent().siblings("ul").slideToggle(250),e(this).toggleClass("active")})}),e(document).on("click",".show-menu",function(t){t.preventDefault(),e(this).closest("#main-header").find(".mobile-nav").slideToggle(250)}),e(document).on("click",".show-sitemenu",function(t){t.preventDefault(),e("#site-menu").slideToggle(250),e(this).toggleClass("active")});var c=e(".theme-loginform").find(".usertext"),h=e(".theme-loginform").find(".welcome_userpicture").parent();h.append(c),h.click(function(e){e.preventDefault()}),setTimeout(function(){f()},10);var u=0;function f(){var t=e(window),a=e(".sticky-nav-element-offset");if(a.length>0&&e("body").hasClass("sticky-nav")){var s=e("#main-navigation"),i=(s.parent(),a.offset().top),o=s.outerHeight(!0);t.scrollTop()>i?(a.css({height:o}),s.addClass("sticky-nav-element")):(s.removeClass("sticky-nav-element"),a.css({height:0}))}}e(window).scroll(function(){st=e(this).scrollTop(),st<u?(e("body").removeClass("scroll-down"),e("body").addClass("scroll-up")):(e("body").removeClass("scroll-up"),e("body").addClass("scroll-down")),u=st,f()}),e('input.mb2color, .mb2color input[type="text"]').each(function(){e(this).spectrum({showInput:!0,showButtons:!1,preferredFormat:"rgb",allowEmpty:!0,color:"",showAlpha:!0})});var b=e(".theme-iconnav").height();function p(){e("#page-outer").css({"min-height":e(window).height()})}e(".theme-iconnav").css({"margin-top":Math.ceil(b/2*-1)}),e(".theme-iconnav li").each(function(){var t=e(this).find(".link-replace"),a=e(this).find("span.text"),s=e("body").hasClass("dir-rtl");t.hover(function(){s?a.stop().animate({left:"100%"},300):a.stop().animate({right:"100%"},300)},function(){s?a.stop().animate({left:-500},150):a.stop().animate({right:-500},150)})}),p(),e(window).on("resize",function(){p()});var g={expires:3,path:"/"};function v(){var t,a,s,i=[];e("[data-mb2showon]").each(function(){var o=e(this),n=o.data("mb2showon"),l=o.data("mb2showonval"),r=n.toString().split("|"),d=l.toString().split("|");for(t=0;t<r.length;t++)a=r[t],s=d[t],e('[name="'+a+'"]').val()==s?i[t]="yes":i[t]="no";-1!=e.inArray("yes",i)?o.closest(".form-group").show():o.closest(".form-group").hide(),i=[]})}"fs1"===Cookies.get("font_size")?e("html").addClass("theme-fs1"):"fs2"===Cookies.get("font_size")?e("html").addClass("theme-fs2"):"fs3"===Cookies.get("font_size")&&e("html").addClass("theme-fs3"),e(".theme-fontsizer a").each(function(){var t=e(this),a=t.data("size");t.click(function(t){e("html").removeClass("theme-fs1"),e("html").removeClass("theme-fs2"),e("html").removeClass("theme-fs3"),e("html").addClass("theme-fs"+a),Cookies.remove("font_size"),Cookies.set("font_size","fs"+a,g),t.preventDefault()})}),e(".theme-cpanel.fw").each(function(){e(this).closest(".container-fluid").attr("class",""),e(this).closest(".row").find(">div").attr("class",""),e(this).closest(".row").attr("class","")}),e("body").hasClass("custom-login")&&e("#login").prepend(e(".main-logo")),e(".sectionname, .section-title").each(function(){var t=e(this).find(">span>a, >a").text();e("body").hasClass("editing")||" "!==t||e(this).hide()}),e('label[for="jump-to-activity"]').closest(".m-t-2").addClass("activity-nav"),e(document).on("change",'[name="theme-search-checkbox"]',function(){var t=e(".theme-searchform"),a=e("#theme-search"),s=e("#theme-coursesearchbox"),i=t.find("label");e(this).is(":checked")?(a.attr("action",t.data("action_global")),s.attr("name","q"),i.text(i.data("globalstring"))):(a.attr("action",t.data("action_course")),s.attr("name","search"),i.text(i.data("coursesstring")))}),e("#theme-bookmarks-form").submit(function(t){var a=e(this),s=a.find("#mb2bkcreateurl").val();e.ajax({type:"GET",url:s,data:a.serialize(),beforeSend:function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeIn(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").attr("disabled","disabled")},error:function(t,a,s){setTimeout(function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled"),alert(t.responseText)},800)},success:function(t){if(e.isArray(t)){var a=function(t){var a="",s=[],o=e("#theme-bookmarks-form").data("rooturl"),n=e("#theme-bookmarks-form").data("pageurl"),l=e("#theme-bookmarks-form").data("pagetitle"),r=e("#theme-bookmarks-form").data("bookmarkthispage"),d=e("#theme-bookmarks-form").data("unbookmarkthispage");for(i=0;i<t.length;i++){var m=t[i].split(";");m[0]&&(a+='<li data-url="'+m[0]+'">',a+='<a class="bookmark-link" href="'+o+m[0]+'">'+m[1]+"</a>",a+='<span class="theme-bookmarks-action">',a+='<a href="#" class="theme-bookmarks-form bookmark-edit" data-url="'+m[0]+'" data-mb2bktitle="'+m[1]+'" data-toggle="modal" data-target="#theme-bookmarks-modal"><i class="fa fa-pencil"></i></a>',a+='<a href="#" class="theme-bookmarks-form bookmark-delete" data-url="'+m[0]+'" data-mb2bktitle="'+m[1]+'"><i class="fa fa-times"></i></a>',a+="</span>",a+="</li>",s[i]=m[0])}var c=e.inArray(n,s),h="",u=' data-toggle="modal" data-target="#theme-bookmarks-modal"',f=r;c>-1&&(h=" bookmark-delete",f=d,u="");return a+='<li class="theme-bookmarks-add">',a+='<a href="#" class="theme-bookmarks-form'+h+'" data-url="'+n+'" data-mb2bktitle="'+l+'"'+u+">",a+=f,a+="</a>",a+="</li>"}(t);e("ul.theme-bookmarks").html(a)}else alert(t);setTimeout(function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled")},800)}}),t.preventDefault()}),e(document).on("click",".theme-bookmarks-save",function(t){e("#theme-bookmarks-form").submit(),t.preventDefault()}),e(document).on("click",".theme-bookmarks-form",function(t){e("#mb2bkurl").val(e(this).data("url")),e("#mb2bktitle").val(e(this).data("mb2bktitle"));var a=e('li[data-url="'+e(this).data("url")+'"]');e(this).hasClass("bookmark-delete")?(e("#bkupdate").val(0),e("#bkdelete").val(1),e("#theme-bookmarks-form").submit()):e(this).hasClass("bookmark-edit")?(e("#bkdelete").val(0),e("#bkupdate").val(1)):a.length>0?(e("#bkdelete").val(0),e("#bkupdate").val(1),e("#mb2bktitle").val(a.find(">a").html())):(e("#bkdelete").val(0),e("#bkupdate").val(0)),t.preventDefault()}),e(".pbanimnum-item").each(function(){var t=e(this),a=t.parent().parent().data("aspeed"),s=t.find(".pbanimnum-number"),i=s.data("num"),o=!0;t.bind("inview",function(t,n){var l=e.animateNumber.numberStepFactories.separator(" ");n&&o&&(o=!1,setTimeout(function(){s.animateNumber({number:i,numberStep:l},a)},600))})}),e("form#guestlogin").parent().addClass("guestlogin-form"),e(".boxlist>li").each(function(){var t=e(this).find(">ul");t.length&&(e(this).find(">a").append('<span class="boxlist-toggle"></span>'),e(this).find(">span").append('<span class="boxlist-toggle"></span>'))}),e(document).on("click",".boxlist-toggle",function(t){t.preventDefault(),e(this).toggleClass("active"),e(this).parent().siblings("ul").slideToggle(250)}),v(),e(".felement>select").on("change",function(){v()})}),function(e){e(window).on("load",function(){var t=e(".loading-scr");setTimeout(function(){t.fadeOut(150)},t.data("hideafter"))})}(jQuery)